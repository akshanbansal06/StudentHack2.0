<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="../static/JS/PDF.js"></script>

    <link rel="stylesheet" href="../static/css/defaultStyle.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matplotlib Graph</title>

    <script>
        // Path to your text file in the directory
        const filePath = "../static/txt/predictedPrice.txt";

        // Fetch the file contents
        fetch(filePath)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Failed to load file: ${response.status}`);
                }
                return response.text(); // Parse as text
            })
            .then(content => {
                // Update the <h2> element dynamically with the file content
                document.getElementById("#predictedPrice").textContent = `${content}`; // Use content fetched from file
            })
            .catch(error => {
                console.error("Error fetching file:", error);
            });
    </script>

    <style>
        /* Your CSS styling here */
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: var(--black-grey);
        }
        h1 {
            padding: 2%;
            color: white;
            text-shadow: 5px 5px var(--blue3);
            text-align: center;
            font-size: 50px;
            letter-spacing: 3px;
            word-spacing: 7px;
            font-family: "OblivionFuture";
        }

        h2 {
            padding: 2%;
            color: var(--blue1);
            text-shadow: 5px 5px var(--blue2);
            text-align: center;
            font-size: 30px;
            letter-spacing: 3px;
            word-spacing: 7px; 
            font-family: "OblivionFuture";
        }
        img {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            background: white;
            max-width: 100%;
            height: auto;
        }
        button {
            background-color: transparent;
            border-color: transparent;
            position: relative;
            color: var(--blue2);
            font-family: "OblivionFuture";
            margin: auto;
            font-size: 50px;
            padding: 2%;
        }
        .glow-button {
            background: linear-gradient(145deg, var(--blue1), var(--blue3));
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 22px;
            font-weight: bold;
            font-family: "OblivionFuture", 'Segoe UI', Tahoma, sans-serif;
            padding: 16px 40px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            letter-spacing: 1px;
            text-transform: uppercase;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        .glow-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4), 0 0 20px var(--blue2);
        }
        .glow-button:active {
            transform: translateY(1px);
        }
        hr {
            border: none;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--blue1), transparent);
            margin: 30px auto;
            width: 85%;
        }
    </style>
</head>
<body>
    <h1>Your Future-Forecast Graph</h1>
    <br>
    <div class="container">
        <input class="glow-button" type="button" value="Download PDF" onclick="generatePDF()">
    </div>
    <br>
    <hr>
    <br>
    <h2>This is your predicted value of the car in 5 years:</h2>
    <h2 id="predictedPrice"></h2> <!-- Updated dynamically -->
    <br>
    <img src="../static/plot/valuation.png" alt="Matplotlib Graph">
</body>
</html>